{"version":3,"sources":["components/Navbar.jsx","components/screens/Home.jsx","components/screens/SignIn.jsx","components/screens/Profile.jsx","components/screens/SignUp.jsx","components/screens/CreatePost.jsx","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/SubscribesUserPosts.js","App.js","index.js"],"names":["Navbar","history","useHistory","useContext","UserContext","state","dispatch","className","to","id","key","onClick","localStorage","clear","type","push","Home","useState","data","setdata","useEffect","fetch","headers","getItem","then","res","json","result","console","log","posts","map","item","_id","postedBy","name","style","float","postid","method","newData","filter","src","photo","color","likes","includes","body","JSON","stringify","postId","catch","err","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","password","setpassword","email","setemail","onChange","error","M","toast","html","classes","setItem","token","user","payload","Profile","mypics","setpics","image","setImage","undefined","setUrl","myposts","FormData","append","url","pic","window","location","reload","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","file","files","followers","following","alt","SignUp","setname","postData","message","uploadImage","CreatePost","setTitle","setBody","padding","textAlign","postDetails","reducer","action","UserProfile","setProfile","userid","useParams","showfollow","setfollow","followId","prevState","unfollowId","newFollower","createContext","Routing","parse","exact","path","App","useReducer","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ecd4cbf8.chunk.js","sourcesContent":["import React,{useContext} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {UserContext} from '../App' \r\n\r\nfunction Navbar(){\r\n    const  history = useHistory();\r\n    const{state, dispatch} = useContext(UserContext);\r\n    const  RenderList = () =>{\r\n      if(state !== null){\r\n        return[\r\n          <li key = \"1\"><Link to=\"/profile\">Profile</Link></li>,\r\n          <li key = \"2\"><Link to=\"/createpost\">Create Post</Link></li>,\r\n          <li key = \"10\"><Link to=\"/myfollowingpost\">My Following Posts</Link></li>,\r\n          <li key = \"3\"> <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n           onClick = {() => {\r\n            localStorage.clear()\r\n            dispatch({type : \"CLEAR\"})\r\n            history.push('/signin');\r\n           }}>LogOut</button></li>\r\n        ]\r\n      }else{\r\n        return[\r\n          <li key = \"4\"><Link to=\"/signin\">SignIn</Link></li>,\r\n          <li key = \"5\"><Link to=\"/signup\">SignUp</Link></li>\r\n        ]\r\n      }\r\n    }\r\n    return(\r\n        <nav>\r\n        <div className=\"nav-wrapper white\">\r\n          <Link to= {state ? \"/\" : \"/signin\"} className=\"brand-logo left\">Instagram</Link>\r\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n            {RenderList()}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React,{useState, useEffect, useContext} from 'react';\r\nimport {UserContext} from '../../App';\r\nimport {Link} from 'react-router-dom';\r\nfunction Home(){\r\n    const{state,dispatch} = useContext(UserContext);\r\n    const[data, setdata] = useState([]);\r\n    useEffect(() =>{\r\n            fetch('/allposts',{\r\n                headers :{\r\n                    \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                setdata(result.posts);\r\n            })\r\n    },[]);\r\n\r\n    const likePost = (id) =>{\r\n        fetch('/like',{\r\n            method : 'put',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")   \r\n            },\r\n            body : JSON.stringify({\r\n                postId : id\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) =>{\r\n        fetch('/unlike',{\r\n            method : 'put',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")   \r\n            },\r\n            body : JSON.stringify({\r\n                postId : id\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text, postId) =>{\r\n        fetch('/comment',{\r\n            method : \"put\",\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")  \r\n            },\r\n            body : JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deletePost = (postid) =>{\r\n        fetch(`/delete/${postid}`,{\r\n            method : 'delete',\r\n            headers : {\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")  \r\n            }\r\n        }).then(res => res.json())\r\n        .then(result =>{\r\n            const newData = data.filter(item =>{\r\n                return item._id !== result._id\r\n            })\r\n            setdata(newData);\r\n        })\r\n    }\r\n\r\n    return(\r\n    <div className = \"home\"> \r\n        {\r\n            data.map(item =>{\r\n                return(\r\n            <div className = \" card home-card\" key = {item._id}>\r\n                <h5>\r\n                <Link to = \r\n                {\r\n                item.postedBy._id !== state._id ? \r\n                `/profile/${item.postedBy._id}` : \r\n                `/profile/`}>\r\n                {item.postedBy.name}\r\n                </Link>\r\n                {item.postedBy._id === state._id && \r\n                <i className=\"material-icons\" \r\n                style = {{float : 'right'}} \r\n                onClick = {() =>{\r\n                    deletePost(item._id);\r\n                }\r\n                }>delete</i>\r\n                }\r\n                </h5>\r\n                <div className = \"card-image\">\r\n                    <img src = {item.photo}></img>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <i className=\"material-icons\" style = {{color : \"red\"}}>favorite</i>\r\n                    {item.likes.includes(state._id)  ?\r\n                        <i className=\"material-icons\" onClick = {() => {unlikePost(item._id)}}>thumb_down</i>\r\n                        :\r\n                        <i className=\"material-icons\" onClick = {() =>{likePost(item._id)}}>thumb_up</i>\r\n                     } \r\n                    <h6>{item.likes.length} likes</h6>\r\n                    <h6>{item.title}</h6>\r\n                    <p>{item.body}</p>\r\n                         {\r\n                             item.comments.map(record =>{\r\n                                 return(\r\n                                     <h6 key = {record._id}>\r\n                                         <span style = {{fontWeight : \"500\"}}>\r\n                                             {record.postedBy.name}\r\n                                         </span>\r\n                                         {\r\n                                             record.text\r\n                                         }\r\n                                     </h6>\r\n                                 );\r\n                             })\r\n                         }\r\n                    <form  onSubmit = {(e) => {\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value, item._id)\r\n                    }}>\r\n                    <input type = \"text\" placeholder = \"add a comment..\"></input>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            )\r\n            })\r\n        }\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, {useState, useContext}from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {UserContext} from \"../../App\";\r\nimport M from 'materialize-css';\r\nfunction SignIn(){\r\n    const{state,dispatch} = useContext(UserContext)\r\n    const history = useHistory();\r\n    const[password, setpassword] = useState(\"\");\r\n    const[email, setemail] = useState(\"\");\r\n\r\n    const postData = () =>{\r\n        fetch(\"/signin\", {\r\n            method : \"post\",\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify({\r\n                password,\r\n                email\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data =>{\r\n            console.log(data);\r\n            if(data.error){\r\n                M.toast({html: data.error, classes : \"#b71c1c red darken-4\"});\r\n            }else{\r\n                localStorage.setItem(\"jwt\", data.token);\r\n                localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n                dispatch({type : \"USER\", payload : data.user})\r\n                M.toast({html : \"Sign In success\", classes : \"#43a047 green darken-1\"});\r\n                history.push('/');\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n    <div className = \"mycard\">\r\n        <div className = \"card auth-card input-field\">\r\n            <h2 className = \"brand-logo\">Instagram</h2>\r\n            <input type = \"email\" placeholder = \"email\" value = {email} onChange = {(e) => setemail(e.target.value)} />\r\n            <input type = \"password\" placeholder = \"password\"  value = {password} onChange = {(e) => setpassword(e.target.value)} />\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick = {() =>{postData()}}>SignIn</button>\r\n            <h5><Link to =\"/signup\">Don't have an account ?</Link></h5>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default SignIn;","import React,{useEffect,useState,useContext} from 'react';\r\nimport {UserContext} from '../../App';\r\n\r\nfunction Profile(){\r\n    const[mypics, setpics] = useState([]);\r\n    const{state,dispatch} = useContext(UserContext);\r\n    const[image, setImage] = useState(\"\");\r\n    const[url , setUrl] = useState(undefined); \r\n\r\n    useEffect(() =>{\r\n        fetch('/myposts',{\r\n            headers : {\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(result => {\r\n            setpics(result.myposts);\r\n        });\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        if(image){\r\n            const data = new FormData();\r\n            data.append(\"file\", image);\r\n            data.append(\"upload_preset\",\"insta-clone\");\r\n            data.append(\"cloud_name\", \"djbqlhith\");\r\n            fetch(\"https://api.cloudinary.com/v1_1/djbqlhith/image/upload\",{\r\n                method : \"post\",\r\n                body:data\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setUrl(data.url)\r\n                fetch('/updatepic',{\r\n                    method : \"put\",\r\n                    headers : {\r\n                        \"Content-Type\" : \"application/json\",\r\n                        \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    },\r\n                    body : JSON.stringify({\r\n                        pic : data.url\r\n                    })\r\n                })\r\n                .then(res => res.json())\r\n                .then(result => {\r\n                    localStorage.setItem(\"user\",JSON.stringify({...state, pic : result.pic}));\r\n                    dispatch({type : \"UPDATEPIC\", payload : result.pic})\r\n                    window.location.reload();\r\n                })\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n    }, [image])\r\n\r\n    const updatePhoto = (file) => {\r\n        setImage(file);\r\n    }\r\n\r\n\r\n    return(\r\n    <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n        <div style={{\r\n            margin:\"18px 0px\",\r\n             borderBottom:\"1px solid grey\"\r\n         }}>\r\n            <div style={{\r\n               display:\"flex\",\r\n               justifyContent:\"space-around\",\r\n              \r\n           }}>\r\n                <div>\r\n                <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                   src= {state ? state.pic : \"Loading...\"}/>\r\n                </div>\r\n             \r\n            <div>\r\n            <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n                <span>Upload pic</span>\r\n                <input type=\"file\" onChange={(e)=> updatePhoto(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n                <h4>{state ? state.name : \"Loading..\"}</h4>\r\n                <h5>{state ? state.email : \"Loading..\"}</h5>\r\n                <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                    <h5>{mypics.length} posts</h5>\r\n                    <h5>{state ? state.followers.length :\"0\" } followers</h5>\r\n                    <h5>{state ? state.following.length : \"0\"} following</h5>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div className = \"gallery\">\r\n        {\r\n            mypics.map((item) =>{\r\n                return(\r\n                <img className = \"item\" src= {item.photo} alt = {item.title} key = {item._id}/>\r\n                )\r\n            })\r\n        }\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React,{useState, useEffect} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nfunction SignUp(){\r\n    const history = useHistory();\r\n    const[name, setname] = useState(\"\");\r\n    const[password, setpassword] = useState(\"\");\r\n    const[email, setemail] = useState(\"\");\r\n    const[image, setImage] = useState(\"\");\r\n    const[url , setUrl] = useState(undefined); \r\n\r\n    useEffect(() => {\r\n        if(url){\r\n            postData();\r\n        }\r\n    }, [url])\r\n\r\n\r\n    const uploadData = () => {\r\n        if(image){\r\n            uploadImage();\r\n        }else{\r\n            postData();\r\n        }\r\n    }\r\n\r\n    const postData = () =>{\r\n        fetch(\"/signup\", {\r\n            method : \"post\",\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic : url\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data =>{\r\n            if(data.error){\r\n                M.toast({html: data.error, classes : \"#b71c1c red darken-4\"})\r\n            }else{\r\n                M.toast({html : data.message, classes : \"#43a047 green darken-1\"});\r\n                history.push('/signin');    \r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n    \r\n    const uploadImage = () =>{\r\n        const data = new FormData();\r\n        data.append(\"file\", image);\r\n        data.append(\"upload_preset\",\"insta-clone\");\r\n        data.append(\"cloud_name\", \"djbqlhith\");\r\n        fetch(\"https://api.cloudinary.com/v1_1/djbqlhith/image/upload\",{\r\n            method : \"post\",\r\n            body:data\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => setUrl(data.url))\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    return(\r\n        <div className = \"mycard\">\r\n        <div className = \"card auth-card input-field\">\r\n            <h2 className = \"brand-logo\">Instagram</h2>\r\n            <input \r\n             type = \"text\"\r\n             placeholder = \"name\" \r\n             value = {name} \r\n             onChange = {(e) => setname(e.target.value)}/>\r\n            <input\r\n             type = \"email\"\r\n             placeholder = \"email\" \r\n             value = {email} \r\n             onChange = {(e) => setemail(e.target.value)} />\r\n            <input \r\n            type = \"password\" \r\n            placeholder = \"password\" \r\n            value = {password} \r\n            onChange = {(e) => setpassword(e.target.value)} />\r\n            <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n                <span>Upload pic</span>\r\n                <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick = {uploadData}>SignUp</button>\r\n            <h5><Link to =\"/signin\">Already have an account ?</Link></h5>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default SignUp;","import React,{useState, useEffect} from \"react\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nfunction CreatePost(){\r\n    const history = useHistory();\r\n    const[title, setTitle] = useState(\"\");\r\n    const[body, setBody] = useState(\"\");\r\n    const[image, setImage] = useState(\"\");\r\n    const[url, setUrl] = useState(\"\");\r\n\r\n    useEffect(() =>{\r\n        if(url){\r\n            \r\n        fetch(\"/createpost\", {\r\n            method : \"post\",\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body : JSON.stringify({\r\n                title,\r\n                body,\r\n                pic : url\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data =>{\r\n            console.log(data);\r\n            if(data.error){\r\n                M.toast({html: data.error, classes : \"#b71c1c red darken-4\"});\r\n            }else{\r\n                M.toast({html : \"CreatedPost success\", classes : \"#43a047 green darken-1\"});\r\n                history.push('/');\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n        }\r\n    },[url]);\r\n    \r\n\r\n    const postDetails = () =>{\r\n        const data = new FormData();\r\n        data.append(\"file\", image);\r\n        data.append(\"upload_preset\",\"insta-clone\");\r\n        data.append(\"cloud_name\", \"djbqlhith\");\r\n        fetch(\"https://api.cloudinary.com/v1_1/djbqlhith/image/upload\",{\r\n            method : \"post\",\r\n            body:data\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => setUrl(data.url))\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    return(\r\n        <div className=\"card input-filed\"\r\n        style={{\r\n            margin:\"30px auto\",\r\n            maxWidth:\"500px\",\r\n            padding:\"20px\",\r\n            textAlign:\"center\"\r\n        }}\r\n        >\r\n            <input \r\n            type=\"text\"\r\n            placeholder=\"title\"\r\n            onChange = {(e) => setTitle(e.target.value)}\r\n             />\r\n            <input\r\n             type=\"text\"\r\n             placeholder=\"body\"\r\n             onChange = {(e) => setBody(e.target.value)}\r\n              />\r\n            <div className=\"file-field input-field\">\r\n             <div className=\"btn #64b5f6 blue darken-1\">\r\n                 <span>Upload Image</span>\r\n                 <input type=\"file\" onChange = {(e) => {setImage(e.target.files[0])}}/>\r\n             </div>\r\n             <div className=\"file-path-wrapper\">\r\n                 <input className=\"file-path validate\" type=\"text\" />\r\n             </div>\r\n             </div>\r\n             <button onClick = {() => {postDetails()}} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\">\r\n                 Submit post\r\n             </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreatePost;","export const initialState = null;\r\n\r\nexport const reducer = (state, action) =>{\r\n    if(action.type === \"USER\"){\r\n        return action.payload\r\n    }\r\n\r\n    if(action.type === \"CLEAR\" ){\r\n        return null;\r\n    }\r\n\r\n    if(action.type === \"UPLOAD\"){\r\n        return{\r\n            ...state,\r\n            followers : action.payload.followers,\r\n            following : action.payload.following\r\n        }\r\n    }\r\n\r\n    if(action.type === \"UPLOADPIC\"){\r\n        return{\r\n            ...state,\r\n            pic : action.payload.pic\r\n        }\r\n    }\r\n    return state;\r\n}","import React,{useEffect,useState,useContext} from 'react';\r\nimport {UserContext} from '../../App';\r\nimport {useParams} from 'react-router-dom'\r\nfunction UserProfile(){\r\n    const[user, setProfile] = useState(null);\r\n    const{state,dispatch} = useContext(UserContext);\r\n    const {userid} = useParams();\r\n    const[showfollow, setfollow] = useState(state ? !state.following.includes(userid) : true);\r\n\r\n    useEffect(()=>{\r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setProfile(result)\r\n        })\r\n     },[]) \r\n\r\n     if(user != null){\r\n         console.log(user);\r\n         if(user.posts != null){\r\n             console.log(user.posts);\r\n         }\r\n     }\r\n\r\n     const followuser = () =>{\r\n        fetch('/follow', {\r\n            method : \"put\",\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\"),\r\n                \"Content-Type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify({\r\n                followId : userid \r\n            })  \r\n        })\r\n        .then(res => res.json())\r\n        .then(result => {\r\n            dispatch({type : \"UPLOAD\" , payload : {following : result.following, followers : result.followers}})\r\n            localStorage.setItem(\"user\", JSON.stringify(result))\r\n            setProfile((prevState) =>{\r\n                return(\r\n                    {\r\n                        ...prevState,\r\n                        user : {\r\n                            ...prevState.user,\r\n                            followers : [...prevState.user.followers, result._id]\r\n                        }\r\n                    }\r\n                )\r\n            })\r\n            setfollow(false);\r\n            console.log(result)})\r\n    }\r\n\r\n\r\n    const unfollowuser = () =>{\r\n        fetch('/unfollow', {\r\n            method : \"put\",\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\"),\r\n                \"Content-Type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify({\r\n                unfollowId : userid \r\n            })  \r\n        })\r\n        .then(res => res.json())\r\n        .then(result => {\r\n            dispatch({type : \"UPLOAD\" , payload : {following : result.following, followers : result.followers}})\r\n            localStorage.setItem(\"user\", JSON.stringify(result))\r\n            setProfile((prevState) =>{\r\n                const newFollower = prevState.user.followers.filter(item => item !== result._id)\r\n                return(\r\n                    {\r\n                        ...prevState,\r\n                        user : {\r\n                            ...prevState.user,\r\n                            followers : newFollower\r\n                        }\r\n                    }\r\n                )\r\n            })\r\n            setfollow(true);\r\n            console.log(result)})\r\n    }\r\n\r\n    return(\r\n        <> {user ? \r\n    <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n        <div style={{\r\n            margin:\"18px 0px\",\r\n             borderBottom:\"1px solid grey\"\r\n         }}>\r\n            <div style={{\r\n               display:\"flex\",\r\n               justifyContent:\"space-around\",\r\n              \r\n           }}>\r\n                <div>\r\n                <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                   src= {user.user.pic}/>\r\n                </div>\r\n            <div>\r\n                <h4>{user.user.name}</h4>\r\n                <h5>{user.user.email}</h5>\r\n\r\n                <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                    <h5>{user.posts.length} posts</h5>\r\n                    <h5>{user.user.followers.length} followers</h5>\r\n                    <h5>{user.user.following.length} following</h5>\r\n                </div>\r\n                {showfollow ? \r\n                <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick = {() => followuser()}>Follow</button>\r\n                :\r\n                <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick = {() => unfollowuser()}>unFollow</button>\r\n                }\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div className = \"gallery\">\r\n        {\r\n            user.posts.map((item) =>{\r\n                return(\r\n                <img className = \"item\" src= {item.photo} alt = {item.title} key = {item._id}/>\r\n                )\r\n            })\r\n        }\r\n        </div>\r\n    </div>\r\n    : <h2>loading...!</h2>}\r\n    </>\r\n    );\r\n}\r\n\r\nexport default UserProfile;","import React,{useState, useEffect, useContext} from 'react';\r\nimport {UserContext} from '../../App';\r\nimport {Link} from 'react-router-dom';\r\nfunction Home (){\r\n    const{state,dispatch} = useContext(UserContext);\r\n    const[data, setdata] = useState([]);\r\n    useEffect(() =>{\r\n            fetch('/getsubpost',{\r\n                headers :{\r\n                    \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                setdata(result.posts);\r\n            })\r\n    },[]);\r\n\r\n    const likePost = (id) =>{\r\n        fetch('/like',{\r\n            method : 'put',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")   \r\n            },\r\n            body : JSON.stringify({\r\n                postId : id\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) =>{\r\n        fetch('/unlike',{\r\n            method : 'put',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")   \r\n            },\r\n            body : JSON.stringify({\r\n                postId : id\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text, postId) =>{\r\n        fetch('/comment',{\r\n            method : \"put\",\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")  \r\n            },\r\n            body : JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(result =>{\r\n            console.log(result);\r\n            const newData = data.map(item =>{\r\n                if(item._id === result._id){\r\n                    return result;\r\n                }else{\r\n                    return item;\r\n                }\r\n            })\r\n            setdata(newData);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deletePost = (postid) =>{\r\n        fetch(`/delete/${postid}`,{\r\n            method : 'delete',\r\n            headers : {\r\n                \"Authorization\" : \"Bearer \" + localStorage.getItem(\"jwt\")  \r\n            }\r\n        }).then(res => res.json())\r\n        .then(result =>{\r\n            const newData = data.filter(item =>{\r\n                return item._id !== result._id\r\n            })\r\n            setdata(newData);\r\n        })\r\n    }\r\n\r\n    return(\r\n    <div className = \"home\"> \r\n        {\r\n            data.map(item =>{\r\n                return(\r\n            <div className = \" card home-card\" key = {item._id}>\r\n                <h5>\r\n                <Link to = \r\n                {\r\n                item.postedBy._id !== state._id ? \r\n                `/profile/${item.postedBy._id}` : \r\n                `/profile/`}>\r\n                {item.postedBy.name}\r\n                </Link>\r\n                {item.postedBy._id === state._id && \r\n                <i className=\"material-icons\" \r\n                style = {{float : 'right'}} \r\n                onClick = {() =>{\r\n                    deletePost(item._id);\r\n                }\r\n                }>delete</i>\r\n                }\r\n                </h5>\r\n                <div className = \"card-image\">\r\n                    <img src = {item.photo}></img>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <i className=\"material-icons\" style = {{color : \"red\"}}>favorite</i>\r\n                    {item.likes.includes(state._id)  ?\r\n                        <i className=\"material-icons\" onClick = {() => {unlikePost(item._id)}}>thumb_down</i>\r\n                        :\r\n                        <i className=\"material-icons\" onClick = {() =>{likePost(item._id)}}>thumb_up</i>\r\n                     } \r\n                    <h6>{item.likes.length} likes</h6>\r\n                    <h6>{item.title}</h6>\r\n                    <p>{item.body}</p>\r\n                         {\r\n                             item.comments.map(record =>{\r\n                                 return(\r\n                                     <h6 key = {record._id}>\r\n                                         <span style = {{fontWeight : \"500\"}}>\r\n                                             {record.postedBy.name}\r\n                                         </span>\r\n                                         {\r\n                                             record.text\r\n                                         }\r\n                                     </h6>\r\n                                 );\r\n                             })\r\n                         }\r\n                    <form  onSubmit = {(e) => {\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value, item._id)\r\n                    }}>\r\n                    <input type = \"text\" placeholder = \"add a comment..\"></input>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            )\r\n            })\r\n        }\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, {useReducer, createContext, useEffect, useContext} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport {Route, BrowserRouter, Switch, useHistory} from \"react-router-dom\";\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/SignIn';\nimport Profile from './components/screens/Profile';\nimport Signup from './components/screens/SignUp';\nimport CreatePost from './components/screens/CreatePost';\nimport {reducer,initialState} from './reducers/userReducer';\nimport UserProfile from './components/screens/UserProfile';\nimport Myfollowingpost from './components/screens/SubscribesUserPosts'\n\nexport const UserContext = createContext();\n\nconst Routing  = () =>{\n  const history = useHistory();\n  const{state,dispatch} = useContext(UserContext)\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if(user){\n      dispatch({type : \"USER\", payload : user})\n    }else{\n      history.push('/signin')\n    } \n  },[])\n  return(\n    <Switch>\n    <Route exact path = '/'>\n    <Home />\n  </Route>\n  <Route path = '/signin'>\n    <Signin />\n  </Route>\n  <Route exact path = '/profile'>\n    <Profile />\n  </Route>\n  <Route exact path = '/profile/:userid'>\n    <UserProfile />\n  </Route>\n  <Route path = '/signup'>\n    <Signup />\n  </Route>\n  <Route path = '/createpost'>\n    <CreatePost />\n  </Route>\n  <Route path = '/myfollowingpost'>\n    <Myfollowingpost />\n  </Route>\n\n  </Switch>\n  );\n}\nfunction App() {\n\n  const [state, dispatch] = useReducer(reducer,initialState);\n  return (\n    <UserContext.Provider value = {{state ,dispatch}}>\n    <BrowserRouter>\n    <Navbar />\n    <Routing/>\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}